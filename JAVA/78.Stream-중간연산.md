# 17-2. Stream - ì¤‘ê°„ ì—°ì‚°
> Stream íƒ€ì… ë°˜í™˜ / í•„í„°ë§  `distinct()` `filter()` / ë§¤í•‘ `map()` / ì •ë ¬ `sorted()`

<br>
<br>

- âœğŸ» **Recorded Date** : 2022ë…„ 11ì›” 14ì¼ ì˜¤í›„ 10:11
- ğŸ’¬ **Comment** : ê½¤ ì¦ê²ê²Œ ë°°ì› ë˜ ìŠ¤íŠ¸ë¦¼! ë©‹ë“¤ì–´ì§€ê²Œ ì˜ ì“¸ ì¤„ ì•Œì•˜ëŠ”ë°<br>'ì˜¤ ì—¬ê¸°ì— ì¨ë´ë„ ë˜ê² ëŠ”ë°?' í•˜ê³  ì½”ë“œ ì‘ì„±í•˜ë©´ ë‚´ê°€ ì›í•˜ëŠ” ê²°ê³¼ê°€ ì•ˆ ë‚˜ì™€<br>ê²°êµ­ forë¬¸ ì“°ê³  ifë¬¸ ì“°ê³ ğŸ˜¢ streamê³¼ ëŒë‹¤ì‹ì€ ìµìˆ™í•´ì§€ë ¤ê³  ë” ë…¸ë ¥í•˜ê¸°!âœ‹ğŸ»
- ğŸ”– **Notion** : [1.ìŠ¤íŠ¸ë¦¼](https://6suk.notion.site/17-1-Stream-604af2c563c148c9863227d126f9e4a1) / [2.ìŠ¤íŠ¸ë¦¼-ì¤‘ê°„ì—°ì‚°](https://www.notion.so/17-2-Stream-623f6a146db844fda209ebe06b0bd515) / [3.ìŠ¤íŠ¸ë¦¼-ìµœì¢…ì—°ì‚°](https://www.notion.so/17-3-Stream-c61755b7086143509f816b3006485e86) / [4.ìŠ¤íŠ¸ë¦¼-ë©”ì†Œë“œ ëª¨ì•„ë³´ê¸°](https://www.notion.so/17-4-Stream-a190c32b62af428b8a04d923ba7b78d0)

<br>
<br>
<br>

## ğŸ”¸ 3. ì¤‘ê°„ì—°ì‚°

- **ë¦¬í„´íƒ€ì…** **Stream, IntStream, LongStream, DoubleStream**
- ìŠ¤íŠ¸ë¦¼ì„ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— ì—°ì†í•´ì„œ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.

| ì¢…ë¥˜ | ë©”ì†Œë“œ(ë§¤ê°œë³€ìˆ˜) | ì„¤ëª… ( â—¾ : ì˜ˆì œ /  ë¦¬í„´íƒ€ì… : Stream ) |
| --- | --- | --- |
| í•„í„°ë§ | distinct() | â–« ì¤‘ë³µ ì œê±° |
|  | filter(T->boolean) | â–« ì¡°ê±´ í•„í„°ë§<br>â–« ë§¤ê°œ íƒ€ì…ì€ ìš”ì†Œ íƒ€ì…ì— ë”°ë¥¸ í•¨ìˆ˜í˜• (ëŒë‹¤ì‹ ì‘ì„± ê°€ëŠ¥) |
| ë§¤í•‘<br>(ìŠ¤íŠ¸ë¦¼ ë³€í™˜) | map(T->R)<br>mapToInt(T->)<br>mapToLong(T->)<br>mapToDouble(T->) | â–« T â†’ ë§¤ê°œê°’ R (Tì™€ Rì´ ê°™ì€ íƒ€ì…ì¼ ìˆ˜ ìˆìŒ)<br>â–« T â†’int /  long / double<br>â–ª List<T> ì—ì„œ int / Stringíƒ€ì…ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” Case |
|  | mapToObj(a->U) | â–« int / long / doubleâ†’ U<br>â–ª ì •ìˆ˜ë¥¼ ë¬¸ìì—´ë¡œ ë°˜í™˜í•˜ëŠ” Case |
|  | asLongStream()<br>asDoubleStream() | â–« intStream â†’ longStream / doubleStream |
|  | boxed() | â–« int â†’ Integer<br>â–« long â†’ Long<br>â–« double â†’ Double |
|  | flapMap(T->) | â–« T â†’ Stream<R><br>â–« int /  long / double<br>â–ª List<String>ì—ì„œ í•œ ê¸€ìì”© ë¶„ë¦¬ |
| ì •ë ¬ | sorted() | â–« T : Comparable, Comparatorìœ¼ë¡œ ì •ë ¬í•œ ìƒˆë¡œìš´ ìŠ¤íŠ¸ë¦¼ ìƒì„±<br>â–« int, double, long : ì˜¬ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬ |
|  | sorted(Comparator.reverseOrder()) | â–«T : Comparable ë‚´ë¦¼ì°¨ìˆœ |
| ë£¨í•‘ | peek() | â–« ìš”ì†Œë¥¼ í•˜ë‚˜ì”© ë°˜ë³µí•´ì„œ ê°€ì ¸ì™€ ì²˜ë¦¬ |

<br><br>

## ğŸ”¸ 3-1. í•„í„°ë§

- ìš”ì†Œ ê±¸ëŸ¬ë‚´ê¸°

```java
List<String> list = new ArrayList<>();
		list.add("í™ê¸¸ë™");
		list.add("ì‹ ìš©ê¶Œ");
		list.add("ê¹€ìë°”");
		list.add("ì‹ ìš©ê¶Œ");
		list.add("ì‹ ë¯¼ì² ");
		
		/** .distinct() ì¤‘ë³µ ì œê±° */
		list.stream()
		.distinct()
		.forEach(name -> System.out.println(name));
		System.out.println();
		
		/** "ì‹ "ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ë¬¸ìì—´ Filter */
		list.stream()
		.filter(n -> n.startsWith("ì‹ "))	//startsWith() ì£¼ì–´ì§„ ë¬¸ìì—´ë¡œ ì‹œì‘í•˜ë©´ true
		.forEach(n -> System.out.println(n));
		
		/** ì¤‘ë³µ ì œê±° í›„, "ì‹ "ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ë¬¸ìì—´ Filter */
		list.stream()
		.distinct()
		.filter(n -> n.startsWith("ì‹ "))
		.forEach(n -> System.out.println(n));
```

### â—½ distinct()

- ì¤‘ë³µ ì œê±°

### â—½ Filter() â†’ Predicate()

- ê°ì²´(ë˜ëŠ” íƒ€ì…)ì„ ì¡°ì‚¬í•´ **boolean íƒ€ì…**ì„ ë¦¬í„´í•˜ëŠ” ë©”ì†Œë“œ
- filter()ë©”ì†Œë“œëŠ” ë§¤ê°œê°’ìœ¼ë¡œ ì£¼ì–´ì§„ `Predicate`ê°€ trueë¥¼ ë¦¬í„´í•˜ëŠ” ìš”ì†Œë§Œ í•„í„°ë§í•œë‹¤.
- **ë§¤ê°œ ë³€ìˆ˜ íƒ€ì…** : T, int, long, Doble

<br>

---
<br>

## ğŸ”¸ 3-2. ë§¤í•‘
- ìŠ¤íŠ¸ë¦¼ì˜ ìš”ì†Œë¥¼ ë‹¤ë¥¸ ìš”ì†Œë¡œ ë³€í™˜

<br>

### â—½ mapXxx()
- **ê¸°ì¡´ ìŠ¤íŠ¸ë¦¼** (B) (A) â¡ **mapXxx()** (A) â†’ (C) / (B) â†’ (D) â¡ **ìƒˆë¡œ ìƒì„±ëœ ìŠ¤íŠ¸ë¦¼** (D) (C)

<br>

### â—½ flatMapXxx()
- **ê¸°ì¡´ ìŠ¤íŠ¸ë¦¼** (B) (A) â¡ **flatmapXxx()** (A) â†’ (A2)(A1) / (B) â†’ (B2)(B1)
    
    â¡ **ìƒˆë¡œ ìƒì„±ëœ ìŠ¤íŠ¸ë¦¼** (B2)(B1) (A2)(A1)
    

```java
// ë¬¸ìì—´ ë¦¬ìŠ¤íŠ¸ë¥¼ í•œ ê¸€ìì”© ë¶„ë¦¬í•´ ê³ ìœ  ë¬¸ìë“¤ë§Œ ë°˜í™˜
List<String> list = new ArrayList<>();
list.add("this is java");
list.add("i am a best developer");

list.stream()
.flatMap(data -> Arrays.stream(data.split(" ")))
.forEach(x -> System.out.println(x));

//ë°©ë²• 2
List<String> flatMap = list.stream()
.map(a -> a.split(" "))
.flatMap(Arrays :: stream)
.collect(Collectors.toList());

System.out.println("flatMapì‚¬ìš©");
System.out.println(flatMap);
```

- [Map ë©”ì†Œë“œ ì˜ˆì œ](https://dev-kani.tistory.com/32)
- [flatMap ë©”ì†Œë“œ ì˜ˆì œ](https://dev-kani.tistory.com/33)
- [mapê³¼ flatMapì˜ ì°¨ì´ ë° í™œìš©ë²•](https://devjem.tistory.com/41)

<br>

---
<br>

## ğŸ”¸ 3-3. ìš”ì†Œ ì •ë ¬

### â—½ Comparable êµ¬í˜„ ê°ì²´ì˜ ì •ë ¬

```java
public class Student implements Comparable<Ex08_Student>{
	@Override
	public int compareTo(Student o) {
		return Integer.compare(score, o.score);
	}
```

```java
List<Student> stuList = new ArrayList<>();
		stuList.add(new Ex08_Student("í™ê¸¸ë™", 10));
		stuList.add(new Ex08_Student("ì‹ ìš©ê¶Œ", 20));
		stuList.add(new Ex08_Student("ìœ ë¯¸ì„ ", 30));
		
		/** ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬ */
		stuList.stream().sorted()
		.forEach(s -> System.out.println(s.getName() + ": " + s.getScore()));
		
		System.out.println();
		
		/** ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬ */
		stuList.stream()
		.sorted(Comparator.reverseOrder())
		.forEach(s -> System.out.println(s.getName() + ": " + s.getScore()));
```
<br>

### â—½ Comparator êµ¬í˜„ ê°ì²´ì˜ ì •ë ¬

```java
stuList.stream()
.sorted((o1,o2)-> o1.getName().compareTo(o2.getName()))
.forEach(s -> System.out.println(s.getName() + ": " + s.getScore()));
```

<br><br><br><br>